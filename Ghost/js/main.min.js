$( document ).ready(function() {


const listSelectCom = $('.buy__form__select ul');
const listSelectButtom = $('.buy__form__select p');
listSelectCom.hide();
let listSelectComStatus = false;

listSelectButtom.click(()=>{
    if(!listSelectComStatus){ listSelectCom.slideDown(); listSelectComStatus = true}
    else { listSelectCom.slideUp(); listSelectComStatus = false}
});

$('.buy__form__select ul li').click(function (event) {
    let thisClick = $(this);
    listSelectButtom.html('.' + thisClick.html());
    listSelectCom.slideUp();
    listSelectComStatus = false
});




    

});

$( document ).ready(function() {

    let lastModelWindow = '';

    function ModalWindowLogin () { // создаем окно для авторизации

        lastModelWindow = 'loginWindow';
        
                $('#modalWindow__thisContent').html($('#loginForm').html()); // поместить контент в обложку
                $('.modalWindow__title').html($('#hideLoginForm').attr('name'));

                let rememberUser = $('label[for=rememberUser] img');
                let statusRemember = false;
                const regName = /^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/;
                let formComplies = true;
                let name = $('#hideLoginForm__nameUser');
                let password = $('#hideLoginForm__passwordUser');

                $('.modalWindow').css('display', 'flex');

                $('label[for=rememberUser]').click(()=>{ // клик по чекбоску
                    if(!statusRemember) {
                        rememberUser.css('display', 'block');
                        statusRemember = true;
                    }
                    else {
                        rememberUser.css('display', 'none');
                        statusRemember = false;
                    }
                    
                })

                $('#hideLoginForm__button').click(()=>{ // проверяем данные перед отправкой
                    

                    const inputOk = function (input) { // если поле ввода катит
                    if (formComplies) formComplies = true;
                    $(input).css('display', 'none')
                    };
                    const inputNok = function (input) { // если поле ввода не катит
                    formComplies = false;
                    $(input).css('display', 'block')
                    };
        
                    if (!regName.test(name.val())) inputNok('.hideLoginForm__nameUser'); // проверяем поле name
                    else inputOk('.hideLoginForm__nameUser');
                    if (!regName.test(password.val())) inputNok('.hideLoginForm__passwordUser'); // проверяем поле password
                    else inputOk('.hideLoginForm__passwordUser');
        
                    if (formComplies) { // если все гуд, отправляем форму
                        
                    } 
                })
        

    }

    function ModalWindowRegistration () { // создаем окно для регистрации
        lastModelWindow = 'RegistrationWindow';
                $('#modalWindow__thisContent').html($('#registrationForm').html()); // поместить контент в обложку
                $('.modalWindow__title').html($('#hideRegForm').attr('name'));

                let name = $('#nameRegistration');
                let email = $('#emailRegistration');
                let password = $('#passRegistration');
                let passwordDuble = $('#passRegistrationDuble');
                let submitBut = $('#buttonRegistration');
                formComplies = true;
                const regEmail = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                const regName = /^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/;

                $('.modalWindow').css('display', 'flex');

                submitBut.click(()=>{ // проверяем данные перед отправкой
                    

                    const inputOk = function (input) { // если поле ввода катит
                        if (formComplies) formComplies = true;
                        $(input).css('display', 'none');
                    };
                    const inputNok = function (input) { // если поле ввода не катит
                        formComplies = false;
                        $(input).css('display', 'block');
                    };
        
                    if (!regName.test(name.val())) inputNok('.nameRegistration'); // проверяем поле name
                    else inputOk('.nameRegistration');
                    if (!regEmail.test(email.val())) inputNok('.emailRegistration'); // проверяем поле email
                    else inputOk('.emailRegistration');
                    if (!regName.test(password.val())) inputNok('.passRegistration'); // проверяем поле password
                    else inputOk('.passRegistration');
                    if (password.val() !== passwordDuble.val() || !regName.test(password.val())) inputNok('.passRegistrationDuble'); // проверяем поле password duble
                    else inputOk('.passRegistrationDuble');
        
                    if (formComplies) { // если все гуд, отправляем форму
                        
                    } 
                })

    }


    $('#formLoginButton').click(ModalWindowLogin); // окрыть окно авторизации
    $('#formRegistrationButton').click(ModalWindowRegistration); // окрыть окно регистрации

    $('.modalWindow__close').click(()=>{ // закрыть модальное окно и очистить его

        if (lastModelWindow === 'loginWindow') {
            $('.hideLoginForm__blockInfoError').css('display', 'none');
            $('label[for=rememberUser] img').css('display', 'none');
        }
        else if (lastModelWindow === 'RegistrationWindow') {
            $('.hideLoginForm__blockInfoError').css('display', 'none');
        }
    

            $('#modalWindow__thisContent').html(''); 
            $('.modalWindow__title').html('');

            $('.modalWindow').css('display', 'none');
    }); 


});






$( document ).ready(function() {

    // navitgation button menu mobile
        let nav__menu_mobStatus = false;
        let ulNavHeader = $('nav ul');
        $('#nav__menu_mob').click(function(){
            if(!nav__menu_mobStatus) {
               ulNavHeader.css('display', 'block');
               nav__menu_mobStatus = true;
            }
            else {
              ulNavHeader.css('display', 'none');
              nav__menu_mobStatus = false;
            }
        });   
    });
    
    
    
    
$( document ).ready(function() {

    let summElSlide = $('.slide__nav > div').length; // определяем количество слайдов
    summElSlide = summElSlide - 1;
    let intervalSlide; // тут будет функция setInterval
    let positionSlide = 0; // начальная позиця слайдов (с нуля)
    let classActive = 'slide__thisButtom'; // название класса для активной кнопки
    let nameMainClassSlide = 'slide__text_'; // название базового класса
    let timeSlideInerval = 3000; // время смены слайдов в м/с

    function activeButSlide (numSlide) { // функция смены активной кнопки
        $('.slide__nav div').removeClass(classActive);
        $('.slide__nav .' + numSlide).addClass(classActive);
    }

    function activeTextSlide (numSlide) { // функция смены активного текста
        $('.slide__text p').slideUp();
        $('.slide__text .' + numSlide).slideDown();
    }

    function activeNameSlide (numSlide) { // функция смены активного имени
        $('.slide__nameText p').css('opacity', '0');
        setTimeout(()=>{
            $('.slide__nameText p').hide();
            
        $('.slide__nameText .' + numSlide).show();
        $('.slide__nameText .' + numSlide).css('opacity', '1');
        },500);
        
    }

    function mouseInText () { // курсор на тексте
        clearInterval(intervalSlide);
    }

    function mouseOutText () { // курсор покинул текс
        slide(positionSlide);
    }

    function slide (numSlide) { // функция интервала
        positionSlide = numSlide ;
        
        intervalSlide = setInterval(function(){

            if(positionSlide >= summElSlide ) positionSlide = -1;
            if (positionSlide !== summElSlide )positionSlide++;
            
            activeButSlide (nameMainClassSlide + positionSlide) // функция для кнопки
            activeTextSlide (nameMainClassSlide + positionSlide) // указать активный текст
            activeNameSlide (nameMainClassSlide + positionSlide) // указать активное имя

            
            
        },
        timeSlideInerval);

    }

    $('.slide__nav > div').click(function(item){ // клик по кнопке

        let element = $(this);
        let thisElClass = element.attr('class');
        if ( thisElClass.indexOf(classActive) > 0 ) {
            thisElClass = thisElClass.substring(0, 13); // получить класс кнопки
        }

        clearInterval(intervalSlide);
        let thisNumSlide = thisElClass.substring(12, 13) // получить номер слайда
        activeButSlide (thisElClass); // указать активную кнопку
        activeTextSlide (thisElClass) // указать активный текст
        activeNameSlide (thisElClass) // указать активное имя
        slide(thisNumSlide); // запусить интервал от заданого номера слайда

    });

    $( '.slide__text' ).mouseenter( mouseInText ).mouseleave( mouseOutText ); // курсор вошел / вышел за текст

    slide(positionSlide);

});